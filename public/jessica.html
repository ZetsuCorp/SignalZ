<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Jessica Carousel Feed</title>
  <link rel="stylesheet" href="jessica.css" />
  <style>
    .jessica-sigicon-stack {
      position: relative;
      width: 40px;
      height: 40px;
    }

    .emoji-icon {
      font-size: 28px;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
    }

    .ripple-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 40px;
      height: 40px;
      z-index: 2;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <h1>🤖 Jessica’s Feed</h1>

  <div class="button-row" style="text-align:center; margin-bottom: 2rem;">
    <button id="searchBtn">🔍 Search</button>
    <button id="pushBtn">📤 Push to Supabase</button>
  </div>

  <section>
    <h2>📡 Session 1</h2>
    <div class="jessica-feed" id="session1"></div>
  </section>
  <section>
    <h2>🛰️ Session 2</h2>
    <div class="jessica-feed" id="session2"></div>
  </section>
  <section>
    <h2>🧠 Session 3</h2>
    <div class="jessica-feed" id="session3"></div>
  </section>

  <div style="margin: 2rem; padding: 1rem; background: #081e24; border: 1px solid #00f0ff55; border-radius: 8px;">
    <h3 style="color:#00f0ff; margin-bottom: 0.5rem;">✅ Posted to World Feed</h3>
    <ul id="postedList" style="color:#aafafc; font-size: 0.85rem; list-style-type: disc; padding-left: 1rem;"></ul>
  </div>

  <script>
    const sessionIds = ["session1", "session2", "session3"];

    const createTemplateCard = () => {
      return `
        <div class="jessica-post">
          <div class="jessica-post-content">
            <div class="jessica-display-name"><span>Jessica AI</span></div>
            <div class="jessica-header-line">
              <div class="jessica-sigicon-stack">
                <span class="emoji-icon">🌐</span>
                <img src="/sigicons/ripple.gif" alt="Ripple" class="ripple-overlay" />
              </div>
              <span class="jessica-id">Awaiting Input</span>
            </div>
            <div class="jessica-card-title">🔮 Empty Slot</div>
            <div class="jessica-card-type">📂 Type — Template</div>
            <a href="#" class="jessica-link">🔗 No link</a>
          </div>
        </div>
      `;
    };

    window.addEventListener('DOMContentLoaded', () => {
      sessionIds.forEach(id => {
        const section = document.getElementById(id);
        for (let i = 0; i < 10; i++) {
          section.insertAdjacentHTML("beforeend", createTemplateCard());
        }
      });
    });

    document.getElementById("searchBtn").addEventListener("click", () => {
      alert("🔍 Populate logic coming soon");
    });

    document.getElementById("pushBtn").addEventListener("click", () => {
      alert("📤 Push to Supabase logic coming soon");
    });
  </script>
</body>
</html>
